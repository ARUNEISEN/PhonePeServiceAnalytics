## Project Overview
    This project analyzes PhonePe Pulse data and raw Pulse data is cloned from a public GitHub repository and processed locally to extract meaningful business insights and this presents a data visualization dashboard of state-wise digital transaction volumes across India using Plotly Choropleth Maps and Streamlit.

## Key Features
    Imported PhonePe transaction data into local PostgreSQL database.
    Created business-specific queries for detailed analysis.
    Built Streamlit dashboards to visualize key metrics such as transaction volumes, user registration trends, and state-wise insights.
    Interactive bar charts, pie charts, and other visuals to make data-driven decisions easier.    
    Interactive Indian map with state-wise heatmaps
    Yearly/quarterly trend charts for Aggregated digtal, Insurance and Registered Users
    Built with Python, Plotly, Pandas, and Streamlit
## Technologies Used
    | Tech       | Description                            |
    | ---------- | -------------------------------------- |
    | Python     | Core programming language              |
    | Pandas     | Data manipulation                      |
    | Plotly     | Interactive charts and choropleth maps |
    | Streamlit  | UI/dashboard framework                 |
    | Git/GitHub | Version control and collaboration      |
## Project Structure
    PhonePeServiceAnalytics/
    ├── data/                         # Contains input CSV/JSON data
    │   ├── aggregated/               # Aggregated data files
    │   ├── map/                      # GeoJSON or map-related files
    │   └── top/                      # Top-level statistics or summaries
    │
    ├── DataExtractionFromRepo/      # Data extraction logic
    │   ├── AggregatedTableData.py   # Extracts aggregated data
    │   ├── CloneDataFromRepo.py     # Clones source data
    │   ├── MapTableData.py          # Processes map-based data
    │   └── TopTableData.py          # Top transaction/user data
    │
    ├── DBConnection/                # Database connection and queries
    │   ├── DeviceDominance.py       # Analysis of device usage
    │   ├── InsuranceEngagementAnalysis.py  # Insurance trends & user analysis
    │   ├── InsurancePenetration.py  # Insurance penetration computation
    │   ├── TopDataDBConnection.py   # DB queries for top data
    │   ├── TransactionDynamics.py   # Time-based transaction analysis
    │   └── UserEngagement.py        # User engagement metrics
    │
    ├── env/                         # Python virtual environment files
    │   └── ...                      # (auto-generated by venv)
    │
    ├── PhonePeAnalytics.py          # Main Streamlit app entry point
    ├── README.md                    # Project documentation
    ├── LICENSE                      # Open-source license
    └── .gitignore                   # Files/directories to be ignored by Git    

## Dpendencies installed and used
    pip install pandas
    pip install streamlit
    pip install sqlalchemy
    pip install psycopg2
    pip install matplotlib
    pip install plotly

## Built-in Modules Used
    import sys
    import os
    import requests
    import json
    import Repo    
 
## Step By Step Procudure

## Clone the public Repo data
    Public phonePe pulse was cloned into local for processing, transformation, and analysis using Repo module from git
    code snippet: 
                from git import Repo
                repo_url = "https://github.com/PhonePe/pulse.git"
                local_dest = "./data"
                Repo.clone_from(repo_url,local_dest)
## Data Manipulation
    Pulse data are retrived and converted to DataFrames using python , Pandas
    sample code nippet:
                        path = "./data/data/map/insurance/hover/country/india/state/"
                        agg_state_list = os.listdir(path)         
                        column = {'State':[], 'Year':[], 'Quarter':[], 'Region_name':[], 'Transaction_count':[], 'Transaction_amount':[]}
                        for state in agg_state_list:
                            path_state = path + state + '/'
                            agg_year = os.listdir(path_state)

                            for year in agg_year:
                                path_quarter = path_state + year +'/'
                                agg_quarters = os.listdir(path_quarter)

                                for quarter in agg_quarters:
                                    file_path = path_quarter + quarter
                                    file = open(file_path,'r')
                                    f = json.load(file)

                                    for dt in f['data']['hoverDataList']:
                                        name = dt['name']
                                        tran_count = dt['metric'][0]['count']
                                        tran_amount = dt['metric'][0]['amount']
                                        column['Region_name'].append(name)
                                        column['Transaction_count'].append(tran_count)
                                        column['Transaction_amount'].append(tran_amount)
                                        column['State'].append(state)
                                        column['Year'].append(year)
                                        column['Quarter'].append(int(quarter.strip('.json')))

                        map_insurance_data = pd.DataFrame(column)
                        return map_insurance_data               

## DataFrames data moved to PostgreSQL tables
    These DataFrames converted to SQL tables under PhonePe_analysis Database
    Tables:
            Aggregated Tables:
                    Aggregated_user: Holds aggregated user-related data.
                    Aggregated_transaction : Contains aggregated values for map-related data.
                    Aggregated_insurance: Stores aggregated insurance-related data.
            Map Tables:
                    Map_user: Contains mapping information for users.
                    Map_map: Holds mapping values for total amounts at state and district levels.
                    Map_insurance: Includes mapping information related to insurance.
            Top Tables:
                    Top_user: Lists totals for the top users.
                    Top_map: Contains totals for the top states, districts, and pin codes.
                    Top_insurance: Lists totals for the top insurance categories.

    code snippet:
                engine = create_engine('postgresql+psycopg2://postgres:root@localhost:5432/Phonepe_analysis')
                df = self.topdata.getTopInsuranceData()
                table_name = 'Top_insurance'
                if df is not None and not df.empty:
                    df.to_sql(table_name, engine , if_exists='replace', index = False)
                    print(f'{table_name} Table created succesfully in the Phonepe_analysis Database')
                else:
                    print("DataFrame is None or Empty so skipping DB insertion.")    
## Data are retrieved based on Business case study
    SQL Queries created for Business scenarios and results are stored in the DataFrames
    code snippet:
                def __init__(self):
                    self.connection = psg.connect(
                        host="localhost",
                        database="Phonepe_analysis",
                        user="postgres",
                        password="root"
                    )
                    self.cursor = self.connection.cursor()

                def getTotalTransactionsByState(self):
                    query = '''SELECT "State", SUM("Transaction_count") AS Total_transactions
                            FROM "Aggregated_transaction"
                            GROUP BY "State"
                            ORDER BY total_transactions DESC;'''
                    self.cursor.execute(query)
                    rows = self.cursor.fetchall()             
                    df = pd.DataFrame(rows, columns=["State", "Total_transactions"])
                    return df
## streamlit application created
    streamlit application created to display the results as Dashboard with Barcharts, Tables, Piecarts.

## Sample Screenshot
     ![alt text](image.png)    
   